<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My page</title>

    <!-- 백엔드 CSS/스크립트 확인 -->
    <!-- <link rel="stylesheet" href="../myPageStyle.css">
    <script src="../myPageScript.js" defer></script> -->

    <!-- 프론트 CSS/스크립트 -->
    <link rel="stylesheet" href="../static/myPageStyle.css">
    <script src="../static/myPageScript.js" defer></script>

    <!-- 날씨 아이콘(구글 머티리얼) -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
    <a href="/" id="home"><span class="material-symbols-outlined">home</span></a>

    <div class="mainWrapper">
        <main>
            <section class="profile">
                <div id="window">
                    <div class="userInfo">
                        <div class="btnWrapper">
                            <button id=""><span class="material-symbols-outlined" id="changeProfile" onclick="">manage_accounts</span></button>
                            <a href="/logout">
                                <button id="">
                                    <span class="material-symbols-outlined">logout</span>
                                </button>
                            </a>
                        </div>
                        <div id="profileImg"><img src="" alt=""></div>
                        <span id="pUuserNickname" th:text="${user.nickname}">weatherFairy</span>
                        <p class="saveInfo">
                            <span class="material-symbols-outlined" id="mark">bookmark</span>
                            <span id="saveSum">5</span>
                        </p>
                    </div>
                </div>

                <div class="fvWeatherIcon">
                    <div class="chairBack"></div>
                    <div class="chairSeat">
                        <img id="wicon" src="../static/img/fvSunAndCloud.svg" alt="wicon">
                    </div>
                    <div class="shadow"></div>
                </div>
            </section>
            <section class="fvWeather">
                <h3>Weather Archiving</h3>
                <div class="board">
                    <div class="searchBar">
                        <form method="get" action="/myPage" class="searchForm">
                            <div class="searchCondition">
                                <span class="material-symbols-outlined">device_thermostat</span>
                                <select name="temp" id="sTemp">
                                    <option value="-1" selected>기온</option>
                                    <option value="-999n-1">~ -1℃</option>
                                    <option value="0n4">0℃ ~ 4℃</option>
                                    <option value="5n8">5℃ ~ 8℃</option>
                                    <option value="9n11">9℃ ~ 11℃</option>
                                    <option value="12n16">12℃ ~ 16℃</option>
                                    <option value="17n19">17℃ ~ 19℃</option>
                                    <option value="20n22">20℃ ~ 22℃</option>
                                    <option value="23n27">23℃ ~ 27℃</option>
                                    <option value="28n999">28℃ ~</option>
                                </select>
                                <span class="material-symbols-outlined">water_drop</span>
                                <select name="humid" id="sHumid">
                                    <option value="-1" selected>습도</option>
                                    <option value="0n10">0 ~ 10%</option>
                                    <option value="10n20">10 ~ 20%</option>
                                    <option value="20n30">20 ~ 30%</option>
                                    <option value="30n40">30 ~ 40%</option>
                                    <option value="40n50">40 ~ 50%</option>
                                    <option value="50n60">50 ~ 60%</option>
                                    <option value="60n70">60 ~ 70%</option>
                                    <option value="70n80">70 ~ 80%</option>
                                    <option value="80n90">80 ~ 90%</option>
                                    <option value="90n100">90 ~ 100%</option>
                                </select>
                                <span class="material-symbols-outlined">rainy</span>
                                <select name="prep" id="sRain">
                                    <option value="-1" selected>강수량</option>
                                    <option value="0n3">~ 3mm</option>
                                    <option value="3n15">3 ~ 15mm</option>
                                    <option value="15n30">15mm ~ 30mm</option>
                                    <option value="30n999">30mm ~ </option>
                                </select>
                            </div>
                            <span id="search" class="material-symbols-outlined">search</span>
                        </form>
                    </div>
                    <header class="fwTitle">
                        <p class="fwDay" th:text="${record.rmd}">날짜 / 장소</p>
                        <p class="fwExp">
                            <span class="fwExpT">날씨</span>
                        </p>
                        <p class="fwTemp">
                            <span class="material-symbols-outlined">device_thermostat</span>
                        </p>
                        <p class="fwHumidity">
                            <span class="material-symbols-outlined">water_drop</span>
                        </p>
                        <p class="fwRain">
                            <span class="material-symbols-outlined">rainy</span>
                        </p>
                        <p class="expand">
                            <span></span>
                        </p>
                    </header>
                    <ul class="fwList">
                        <li class="fwItemWrapper" th:each="record : ${records}">
                            <article class="fwItem" onclick="expand(this)">
                                <header class="fwHeader">
                                    <p class="fwDay" th:text="${record.rmd}">2023년 4월 26일 수요일</p>
                                    <p class="fwExp">
                                        <span class="material-symbols-outlined" th:text="${record.wmsg}">sunny</span>
                                    </p>
                                    <p class="fwTemp">
                                        <span th:text="|${record.temp}°C|">20°C</span>
                                    </p>
                                    <p class="fwHumidity">
                                        <span th:text="|${record.humid}%|">20%</span>
                                    </p>
                                    <p class="fwRain">
                                        <span th:text="|${record.precip}mm|">5mm</span>
                                    </p>
                                    <p class="expand">
                                        <span class="material-symbols-outlined" id="expandBtn" onclick="expand(this)">expand_more</span>
                                    </p>
                                </header>
                                <div class="fwDetails">
                                    <p class="fwLoc">대구광역시 달서구 월성 1동</p>
                                    <p class="fwExp">
                                        <span class="material-symbols-outlined" th:text="${record.wmsg}">sunny</span>
                                    </p>
                                    <p class="fwTempF">
                                        <span th:text="${record.tfeel}">네글자용</span>
                                    </p>
                                    <p class="fwHumidityF">
                                        <span th:text="${record.hfeel}">네글자용</span>
                                    </p>
                                    <p class="fwRainF">
                                        <span th:text="${record.pfeel}">네글자용</span>
                                    </p>
                                    <p class="expand">
                                        <span class="material-symbols-outlined" id="deleteBtn" onclick="confirmDelete(this)">remove</span>
                                    </p>
                                </div>
                            </article>
                        </li>
                    </ul>
                </div>
            </section>
        </main>
    </div>




    <div id="changePFbackground">
        <div class="changePF">
            <h3>프로필</h3>
            <form class="profileInfo" action="/updateProfile" method="post">
                <div class="idWrapper">
                    <span class="label">id</span>
                    <span id="userId" th:text="${user.id}">id_example</span>
                    <!-- <a href="#" onclick="window.open('/changePwform', '비밀번호 변경', 'width=500px, height=700px'); return false"><button id="changePW">비밀번호 변경</button></a> -->
                    <a onclick="window.open('passwordChange.html', '비밀번호 변경', 'width=500px, height=700px'); return false"><button id="changePW">비밀번호 변경</button></a>
                </div>
                <div class="nicknameWrapper">
                    <span class="label">nickname</span>
                    <div class="userNickname">
                        <span id="userNickname" th:text="${user.nickname}">날씨요정</span>
                        <input id="changeNN" type="text" name="nickname" th:value="${user.nickname}" placeholder="변경할 닉네임을 입력하세요">
                    </div>
                </div>
                <div class="fwWrapper">
                    <span class="label">좋아하는 계절</span>
                    <div class="userFw">
                        <span id="currentFw" th:text="${user.fvweather}">맑음</span>
                        <select name="fvweather" id="fw">
                            <option value="">변경할 계절을 선택하세요.</option>
                            <option value="맑음">맑음</option>
                            <option value="구름 많음">구름 많음</option>
                            <option value="흐림">흐림</option>
                            <option value="비">비</option>
                            <option value="눈">눈</option>
                        </select>
                    </div>

                </div>
                <div class="buttons">
                    <input type="submit" value="변경">
                    <button type="button" id="close">닫기</button>
                </div>
            </form>
        </div>
    </div>
</body>

</html>